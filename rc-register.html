<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RC Member Registration - TGSDC 2026</title>

    <!--=====FAB ICON=======-->
    <link rel="shortcut icon" href="assets/img/logoo.jpg" />

    <!--===== CSS LINK =======-->
    <link rel="stylesheet" href="assets/css/vendor/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/vendor/aos.css" />
    <link rel="stylesheet" href="assets/css/vendor/fontawesome.css" />
    <link rel="stylesheet" href="assets/css/vendor/magnific-popup.css" />
    <link rel="stylesheet" href="assets/css/vendor/mobile.css" />
    <link rel="stylesheet" href="assets/css/vendor/owlcarousel.min.css" />
    <link rel="stylesheet" href="assets/css/vendor/sidebar.css" />
    <link rel="stylesheet" href="assets/css/vendor/slick-slider.css" />
    <link rel="stylesheet" href="assets/css/vendor/nice-select.css" />
    <link rel="stylesheet" href="assets/css/vendor/odometer.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <!--=====  JS SCRIPT LINK =======-->
    <script src="assets/js/vendor/jquery-3.7.1.min.js"></script>


</head>

<body class="homepage4-body">
    <!-- Popup Section -->
    <div id="popup" class="popup-overlay d-none">
        <div class="popup-content">
            <span class="close-btn" id="close-popup">&times;</span>
            <div class="popup-icon">
                <img src="assets/img/logo/popup-logo.png" alt="" />
            </div>
            <div class="space32"></div>
            <div class="heading2">
                <h2>Grow your business with our agency</h2>
                <div class="space8"></div>
                <ul>
                    <li><img src="assets/img/icons/check3.svg" alt="" />Elevate User Experience Expertise</li>
                    <li><img src="assets/img/icons/check3.svg" alt="" /> Elevate Your UI/UX Skills Designer</li>
                    <li><img src="assets/img/icons/check3.svg" alt="" />Join Leading UI/UX Event the Year</li>
                </ul>
            </div>
            <div class="space50"></div>
            <a class="vl-btn2" href="contact.html"><span class="demo">Buy Ticket Now</span><span class="arrow"><i
                        class="fa-solid fa-arrow-right"></i></span>
            </a>
            <p class="no-thanks">No thanks</p>
        </div>
    </div>
    <!--===== PRELOADER STARTS =======-->
    <div class="preloader">
        <div class="loading-container">
            <div class="loading"></div>
            <div id="loading-icon"><img src="assets/img/logoo.jpg" alt="" /></div>
        </div>
    </div>
    <!--===== PRELOADER ENDS =======-->

    <!--===== PAGE PROGRESS START=======-->
    <div class="paginacontainer">
        <div class="progress-wrap">
            <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
            </svg>
        </div>
    </div>
    <!--===== PAGE PROGRESS END=======-->

    <!--=====HEADER START=======-->
    <header>
        <div class="header-area homepage4 header header-sticky d-none d-lg-block" id="header">
            <div class="container-fluid p-0">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="header-elements">
                            <div class="site-logo">
                                <a href="index.html"><img src="assets/img/trant-logo.png" alt="" /></a>
                            </div>
                            <div class="main-menu">
                                <ul>
                                    <li>
                                        <a href="index.html">Home</a>

                                    </li>
                                    <li><a href="about.html">About Event</a></li>

                                    <li><a href="register.html">Registration</a></li>
                                    <li>
                                        <a href="#">Downloads <i class="fa-solid fa-angle-down"></i></a>
                                        <ul class="dropdown-padding">
                                            <li><a href="assets/documents/Clinical case competition .pdf"
                                                    target="_blank">Clinical Case
                                                    Competition</a></li>
                                            <li><a href="assets/documents/PAPER & POSTER PRESENTATION.pdf"
                                                    target="_blank">Paper & Poster Presentation Guidelines</a>
                                            </li>
                                            <li><a href="assets/documents/Cultural event guidelines .pdf"
                                                    target="_blank">Cultural Event Guidelines</a></li>
                                            <li><a href="assets/documents/TRADE LAYOUT.pdf" target="_blank">Trade
                                                    Layout</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="cultural.html">Cultural</a></li>
                                    <li><a href="contact.html">Contact Us</a></li>

                                </ul>
                            </div>
                            <div class="btn-area">
                                <a href="register.html" class="vl-btn2"><span class="demo">Register Now</span></a>
                            </div>

                            <div class="header-search-form-wrapper">
                                <div class="tx-search-close tx-close"><i class="fa-solid fa-xmark"></i></div>
                                <div class="header-search-container">
                                    <form role="search" class="search-form">
                                        <input type="search" class="search-field" placeholder="Search …" value=""
                                            name="s" />
                                        <button type="submit" class="search-submit"><img
                                                src="assets/img/icons/search1.svg" alt="" /></button>
                                    </form>
                                </div>
                            </div>
                            <div class="body-overlay"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--=====HEADER END =======-->
    <!--===== MOBILE HEADER STARTS =======-->
    <div class="mobile-header mobile-haeder4 d-block d-lg-none">
        <div class="container-fluid">
            <div class="col-12">
                <div class="mobile-header-elements">
                    <div class="mobile-logo">
                        <a href="index.html"><img src="assets/img/trant-logo.png" alt="" /></a>
                    </div>
                    <div class="mobile-nav-icon dots-menu">
                        <i class="fa-solid fa-bars-staggered"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mobile-sidebar mobile-sidebar4">
        <div class="logosicon-area">
            <div class="logos">
                <img src="assets/img/trant-logo.png" alt="" />
            </div>
            <div class="menu-close">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>
        <div class="mobile-nav mobile-nav1">
            <ul class="mobile-nav-list nav-list1">
                <li>
                    <a href="index.html">Home </a>

                </li>
                <li><a href="about.html">About Event</a></li>
                <li><a href="register.html">Registration</a></li>

                <li><a href="contact.html">Contact Us</a></li>
            </ul>
            <div class="allmobilesection">
                <a class="vl-btn4" href="register.html"><span class="demo">Register Now</span></a>

                <div class="single-footer">
                    <h3>Contact Info</h3>

                    <div class="footer1-contact-info">

                        <!-- Phone -->
                        <div class="contact-info-single">
                            <div class="contact-info-icon">
                                <span><i class="fa-solid fa-phone-volume"></i></span>
                            </div>
                            <div class="contact-info-text">
                                <a href="tel:+919985889140">+919985889140</a>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="contact-info-single">
                            <div class="contact-info-icon">
                                <span><i class="fa-solid fa-envelope"></i></span>
                            </div>
                            <div class="contact-info-text">
                                <a href="mailto:contact@tgsdc.org">contact@tgsdc.org</a>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="single-footer">
                            <h3>Our Location</h3>
                            <div class="contact-info-single">
                                <div class="contact-info-icon">
                                    <span><i class="fa-solid fa-location-dot"></i></span>
                                </div>
                                <div class="contact-info-text">
                                    <a href="#">
                                        Banjara Hills,<br />
                                        Hyderabad, Telangana, India
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Social -->
                        <div class="single-footer">
                            <h3>Social Links</h3>
                            <div class="social-links-mobile-menu">
                                <ul>
                                    <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-linkedin-in"></i></a></li>
                                    <li><a href="#"><i class="fa-brands fa-youtube"></i></a></li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
    <!--===== MOBILE HEADER STARTS =======-->

    <style>

    </style>

    <div class="container form-section">

        <!-- STEP 1: REGISTRATION CATEGORY -->
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="text-center mb-5">
                    <h2 class="mb-3">Select Registration Type</h2>
                    <p class="text-muted">Choose your category to proceed with registration</p>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-md-4 text-md-end pt-1">
                                <h5 class="fw-bold">Registration Type <span class="text-danger">*</span></h5>
                            </div>
                            <div class="col-md-8">
                                <div class="d-flex flex-column gap-2">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="regType" id="rt1"
                                            value="RC MEMBER" data-amount="3500">
                                        <label class="form-check-label fw-bold" for="rt1">RC MEMBER</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="regType" id="rt2"
                                            value="DELEGATES (WITH LUNCH)" data-amount="1500">
                                        <label class="form-check-label fw-bold" for="rt2">DELEGATES (WITH LUNCH)</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="regType" id="rt3"
                                            value="DELEGATES" data-amount="1000">
                                        <label class="form-check-label fw-bold" for="rt3">DELEGATES</label>
                                    </div>
                                </div>
                                <div class="form-check mt-3" id="banquetAddonSection" style="display:none;">
                                    <input class="form-check-input" type="checkbox" id="banquetAddon" value="2000">
                                    <label class="form-check-label fw-bold" for="banquetAddon">
                                        Add Banquet Pass (+₹2,000)
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ALREADY REGISTERED? -->
                <div class="row mt-4 justify-content-center">
                    <div class="col-md-8 text-center">
                        <div class="alert alert-info">
                            <h5>Already Registered? Buy Banquet Pass</h5>
                            <p class="small">If you are a registered Doctor/RC Member, enter your Phone Number to buy a
                                Banquet
                                Pass.</p>
                            <div class="input-group mb-3" style="max-width: 400px; margin: 0 auto;">
                                <input type="text" name="checkMobile" class="form-control" pattern="[0-9]{10}"
                                    maxlength="10" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)"
                                    title="Please enter exactly 10 digits">
                                <button class="btn btn-primary" type="button" id="btnCheckStatus">Check</button>
                            </div>
                            <small id="statusMsg" class="text-danger"></small>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-5">
                    <button class="vl-btn2" id="showFormBtn"><span class="demo">Continue Registration</span><span
                            class="arrow"><i class="fa-solid fa-arrow-right"></i></span></button>
                </div>
            </div>
        </div>

        <!-- STEP 2: AMOUNT DISPLAY -->
        <div id="amountSection" class="mt-5 mb-4 p-4 bg-white border rounded shadow-sm text-center"
            style="display:none; max-width: 600px; margin: 0 auto;">
            <h5 class="mb-2 text-muted">Selected Category</h5>
            <h4 class="text-primary mb-3"><span id="selectedCategory"></span></h4>
            <div class="display-3 fw-bold text-dark">₹ <span id="baseAmount"></span></div>
        </div>


        <!-- STEP 3: FULL FORM -->
        <form id="fullForm" class="mt-5 p-4 p-md-5 bg-white shadow rounded" style="display:none;">

            <input type="hidden" name="reg_type" id="reg_type">
            <input type="hidden" name="amount" id="finalAmount">

            <h3 class="mb-4 pb-2 border-bottom">Personal Details</h3>

            <div class="row g-4">

                <!-- TITLE -->
                <div class="col-12">
                    <label class="form-label d-block">Title <span class="text-danger">*</span></label>
                    <div class="btn-group" role="group">
                        <input type="radio" class="btn-check" name="title" id="title1" value="Dr" required>
                        <label class="btn btn-outline-secondary" for="title1">Dr.</label>
                        <input type="radio" class="btn-check" name="title" id="title2" value="Prof">
                        <label class="btn btn-outline-secondary" for="title2">Prof.</label>
                        <input type="radio" class="btn-check" name="title" id="title3" value="Mr">
                        <label class="btn btn-outline-secondary" for="title3">Mr.</label>
                        <input type="radio" class="btn-check" name="title" id="title4" value="Ms">
                        <label class="btn btn-outline-secondary" for="title4">Ms.</label>
                        <input type="radio" class="btn-check" name="title" id="title5" value="Mrs">
                        <label class="btn btn-outline-secondary" for="title5">Mrs.</label>
                    </div>
                </div>

                <!-- NAME -->
                <div class="col-md-6">
                    <label class="form-label">Name <span class="text-danger">*</span></label>
                    <input type="text" name="name" class="form-control" placeholder="Full Name" required>
                    <div class="form-text">Name will appear on certificate</div>
                </div>

                <!-- GENDER -->
                <div class="col-md-6">
                    <label class="form-label d-block">Gender <span class="text-danger">*</span></label>
                    <div class="d-flex gap-3 mt-2">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gender" id="gMale" value="Male" required>
                            <label class="form-check-label" for="gMale">Male</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gender" id="gFemale" value="Female">
                            <label class="form-check-label" for="gFemale">Female</label>
                        </div>
                    </div>
                </div>

                <!-- ORG & DESIGNATION REMOVED (Moved to Dynamic Section) -->


                <!-- EMAIL -->
                <div class="col-md-4">
                    <label class="form-label">Email <span class="text-danger">*</span></label>
                    <input type="email" name="email" class="form-control" required>
                </div>

                <!-- MOBILE -->
                <div class="col-md-4">
                    <label class="form-label">Mobile <span class="text-danger">*</span></label>
                    <input type="text" name="mobile" class="form-control" pattern="[0-9]{10}" maxlength="10"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)"
                        title="Please enter exactly 10 digits" required>
                </div>


                <!-- DOCTOR DETAILS SECTION (Replaced old Org/Desig fields) -->
                <div id="doctorDetails" class="row g-3">
                    <!-- ORGANIZATION / STATE DENTAL COUNCIL -->
                    <div class="col-md-6">
                        <label class="form-label">State Dental Council / Organization <span
                                class="text-danger">*</span></label>
                        <select name="organization" id="orgSelect" class="form-select no-nice-select">
                            <option value="">Select State Dental Council</option>
                            <option value="Andhra Pradesh State Dental Council">Andhra Pradesh State Dental Council
                            </option>
                            <option value="Arunachal Pradesh State Dental Council">Arunachal Pradesh State Dental
                                Council</option>
                            <option value="Assam State Dental Council">Assam State Dental Council</option>
                            <option value="Bihar State Dental Council">Bihar State Dental Council</option>
                            <option value="Chhattisgarh State Dental Council">Chhattisgarh State Dental Council</option>
                            <option value="Dental Council of Chandigarh">Dental Council of Chandigarh</option>
                            <option value="Delhi State Dental Council">Delhi State Dental Council</option>
                            <option value="Goa State Dental Council">Goa State Dental Council</option>
                            <option value="Gujarat State Dental Council">Gujarat State Dental Council</option>
                            <option value="Haryana State Dental Council">Haryana State Dental Council</option>
                            <option value="Himachal Pradesh State Dental Council">Himachal Pradesh State Dental Council
                            </option>
                            <option value="Jammu & Kashmir State Dental Council">Jammu & Kashmir State Dental Council
                            </option>
                            <option value="Jharkhand State Dental Council">Jharkhand State Dental Council</option>
                            <option value="Karnataka State Dental Council">Karnataka State Dental Council</option>
                            <option value="Kerala State Dental Council">Kerala State Dental Council</option>
                            <option value="Madhya Pradesh State Dental Council">Madhya Pradesh State Dental Council
                            </option>
                            <option value="Maharashtra State Dental Council">Maharashtra State Dental Council</option>
                            <option value="Manipur State Dental Council">Manipur State Dental Council</option>
                            <option value="Meghalaya State Dental Council">Meghalaya State Dental Council</option>
                            <option value="Mizoram State Dental Council">Mizoram State Dental Council</option>
                            <option value="Nagaland State Dental Council">Nagaland State Dental Council</option>
                            <option value="Orissa State Dental Council">Orissa State Dental Council</option>
                            <option value="Pondicherry Dental Council">Pondicherry Dental Council</option>
                            <option value="Punjab State Dental Council">Punjab State Dental Council</option>
                            <option value="Rajasthan State Dental Council">Rajasthan State Dental Council</option>
                            <option value="Sikkim State Dental Council">Sikkim State Dental Council</option>
                            <option value="Tamil Nadu State Dental Council">Tamil Nadu State Dental Council</option>
                            <option value="Telangana State Dental Council">Telangana State Dental Council</option>
                            <option value="Tripura State Dental Council">Tripura State Dental Council</option>
                            <option value="Uttar Pradesh State Dental Council">Uttar Pradesh State Dental Council
                            </option>
                            <option value="Uttarakhand State Dental Council">Uttarakhand State Dental Council</option>
                            <option value="West Bengal Dental Council">West Bengal Dental Council</option>
                            <option value="Other">Other / Organization</option>
                        </select>
                        <input type="text" name="organization_manual" id="orgManual" class="form-control mt-2"
                            placeholder="Enter Organization Name" style="display:none;">
                    </div>

                    <!-- DESIGNATION -->
                    <div class="col-md-6">
                        <label class="form-label">Designation <span class="text-danger">*</span></label>
                        <select name="designation" class="form-select no-nice-select" required>
                            <option value="">Select Designation</option>
                            <option value="Practitioner">Practitioner</option>
                            <option value="Academician">Academician</option>
                            <option value="Student">Student</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <!-- DCI REG NUMBER -->
                    <div class="col-md-6">
                        <label class="form-label">State Dental Council Registration Number <span
                                class="text-muted small">(Optional)</span></label>
                        <input type="text" name="dci_reg_number" class="form-control" placeholder="Enter DCI Reg No.">
                        <small class="text-muted">If you want credit points you can enter DCI Number</small>
                    </div>
                </div>


                <!-- ADDRESS -->
                <div class="col-12">
                    <label class="form-label">Address <span class="text-danger">*</span></label>
                    <textarea name="address" class="form-control" rows="2" required></textarea>
                </div>



                <!-- STATE -->
                <div class="col-md-6">
                    <label class="form-label">State <span class="text-danger">*</span></label>
                    <select name="state" id="stateSelect" class="form-select no-nice-select" required>
                        <option value="">Select State</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and
                            Diu</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                        <option value="Ladakh">Ladakh</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                        <option value="Puducherry">Puducherry</option>
                    </select>
                </div>

                <!-- CITY -->
                <div class="col-md-6">
                    <label class="form-label">City <span class="text-danger">*</span></label>
                    <!-- Default Text Input -->
                    <input type="text" name="city" id="cityInput" class="form-control" placeholder="Enter City">

                    <!-- Select for Telangana (Hidden by default) -->
                    <select name="city_select" id="citySelect" class="form-select no-nice-select" style="display:none;"
                        disabled>
                        <option value="">Select City</option>
                        <option value="Hyderabad">Hyderabad</option>
                        <option value="Warangal">Warangal</option>
                        <option value="Nizamabad">Nizamabad</option>
                        <option value="Karimnagar">Karimnagar</option>
                        <option value="Khammam">Khammam</option>
                        <option value="Ramagundam">Ramagundam</option>
                        <option value="Mahbubnagar">Mahbubnagar</option>
                        <option value="Nalgonda">Nalgonda</option>
                        <option value="Adilabad">Adilabad</option>
                        <option value="Suryapet">Suryapet</option>
                        <option value="Miryalaguda">Miryalaguda</option>
                        <option value="Jagtial">Jagtial</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- PIN -->
                <div class="col-md-4">
                    <label class="form-label">Pin Code <span class="text-danger">*</span></label>
                    <input type="number" name="pincode" class="form-control" required>
                </div>




                <!-- IDA MEMBER -->
                <div class="col-md-6">
                    <label class="form-label d-block">IDA Member <span class="text-danger">*</span></label>
                    <div class="d-flex gap-3 mt-2">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="ida_member" id="idaYes" value="Yes">
                            <label class="form-check-label" for="idaYes">Yes</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="ida_member" id="idaNo" value="No">
                            <label class="form-check-label" for="idaNo">No</label>
                        </div>
                    </div>
                </div>












                <div class="col-12">
                    <hr class="my-4">
                </div>

                <!-- COMMENTS -->
                <div class="col-12">
                    <label class="form-label"><b>Comments</b></label>
                    <textarea name="comments" class="form-control" rows="3"></textarea>
                </div>

                <!-- REGISTER BUTTON -->
                <div class="col-12 mt-5">
                    <button type="submit" id="payButton" class="vl-btn2 w-100 justify-content-center"><span
                            class="demo">Proceed to Payment</span></button>
                </div>

            </div>
        </form>

    </div>


    <script>
        // 1. DYNAMIC AMOUNT & CHECKBOX LOGIC
        const regRadios = document.getElementsByName('regType');
        const banquetAddon = document.getElementById('banquetAddon');
        const banquetSection = document.getElementById('banquetAddonSection');
        const displayAmount = document.getElementById('baseAmount'); // Note: amountSection id is baseAmount
        const hiddenAmount = document.getElementById('finalAmount');
        const hiddenType = document.getElementById('reg_type');

        function updateAmount() {
            let selected;
            for (const radio of regRadios) {
                if (radio.checked) {
                    selected = radio;
                    break;
                }
            }

            if (selected) {
                let baseAmt = parseInt(selected.getAttribute('data-amount'));
                let currentType = selected.value;

                // SPECIAL LOGIC: 
                // If "DELEGATE WITH BANQUET" (contains 'BANQUET') -> Hide Addon (It's included)
                // If Others -> Show Addon
                if (currentType.includes("RC MEMBER")) {
                    banquetSection.style.display = "none";
                    banquetAddon.checked = true; // Force check internally if we want logic, but simpler to just ignore it
                    // Actually, if it's hidden, user can't click.
                    // We just use baseAmt (3500) which includes it.
                } else {
                    banquetSection.style.display = "block";
                    // Check if addon selected
                    if (banquetAddon.checked) {
                        baseAmt += 2000;
                        currentType += " + Banquet Pass";
                    }
                }

                // Update UI (if Amount Section is visible)
                if (document.getElementById("amountSection").style.display !== "none") {
                    document.getElementById("baseAmount").innerText = baseAmt.toLocaleString();
                    document.getElementById("selectedCategory").innerText = currentType;
                }

                // Update Hidden Steps (even if not visible yet, good for Continue click)
                hiddenAmount.value = baseAmt;
                hiddenType.value = currentType;

                // Also Update Button Data Attributes? No, `showFormBtn` reads radio directly.
                // We need to patch `showFormBtn` to read `hiddenAmount` instead of radio dataset?
                // Let's rely on `calculateTotal` which runs later.
            }
        }

        // Attach listeners
        regRadios.forEach(r => r.addEventListener('change', () => {
            // Reset addon check if switching FROM a non-banquet TO a non-banquet types? 
            if (r.value.includes("DELEGATE WITH BANQUET")) {
                banquetAddon.checked = false; // Reset
            }
            updateAmount();
            // Also trigger global calc if form open
            if (typeof calculateTotal === 'function') calculateTotal();
        }));

        banquetAddon.addEventListener('change', () => {
            updateAmount();
            if (typeof calculateTotal === 'function') calculateTotal();
        });


        // 2. BANQUET UPGRADE CHECK LOGIC (EMAIL BASED)
        document.getElementById("btnCheckStatus").onclick = async () => {
            const mobile = document.getElementById("checkMobile").value.trim();
            const msg = document.getElementById("statusMsg");

            if (!mobile) {
                msg.innerText = "Please enter your registered Mobile Number";
                return;
            }
            msg.innerText = "Verifying...";

            try {
                // Find user by Mobile
                const res = await fetch("http://localhost:5000/api/check-status", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ mobile: mobile })
                });
                const data = await res.json();

                if (data.success) {
                    msg.innerText = "Number Verified! Creating Upgrade Order...";

                    // Create New Registration (Banquet Pass) with EXISTING ID
                    const upgradePayload = {
                        existing_reg_id: data.existing_reg_id, // Reuse ID!!
                        reg_type: "Banquet Pass (Add-on)",
                        amount: 2000,
                        title: data.title,
                        name: data.name,
                        gender: data.gender,
                        email: data.email,
                        mobile: data.mobile,
                        organization: data.organization,
                        designation: data.designation,
                        address: data.address,
                        state: data.state,
                        city: data.city,
                        pincode: data.pincode,
                        food_pref: "Non-Veg",
                        comments: "Upgrade for Add-on(Banquet Pass) " + data.existing_reg_id
                    };

                    const regRes = await fetch("http://localhost:5000/api/register", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(upgradePayload)
                    });
                    const regJson = await regRes.json();

                    if (regJson.success) {
                        const checkoutData = {
                            reg_id: regJson.reg_id,
                            amount: 2000,
                            name: data.name,
                            email: data.email,
                            mobile: data.mobile,
                            reg_type: "Banquet Pass (Add-on)"
                        };
                        localStorage.setItem("reg_payload", JSON.stringify(checkoutData));
                        window.location.href = "checkout.html";
                    } else {
                        msg.innerText = "Error creating order: " + (regJson.error || "Unknown");
                    }

                } else {
                    msg.innerText = data.error || "Invalid Email or not eligible.";
                }

            } catch (err) {
                console.error(err);
                msg.innerText = "Error connecting to server.";
            }
        };

        // VISUAL LOGIC FOR CARDS
        const regCards = document.querySelectorAll('.reg-card input');
        regCards.forEach(radio => {
            radio.addEventListener('change', function () {
                document.querySelectorAll('.reg-card').forEach(c => c.classList.remove('selected'));
                if (this.checked) {
                    this.closest('.reg-card').classList.add('selected');
                }
            });
        });

        // STEP LOGIC
        document.getElementById("showFormBtn").onclick = () => {
            let selected = document.querySelector("input[name='regType']:checked");
            if (!selected) {
                return alert("Please select a registration type from the options above");
            }

            let type = selected.value;
            let amount = selected.dataset.amount;

            // Student Banqeut Check
            if (type.toLowerCase().includes("student") && type.toLowerCase().includes("banquet")) {
                // This case is unlikely via UI but good safety
                return alert("Banquet Pass is not available for Students");
            }

            document.getElementById("selectedCategory").innerText = type;
            document.getElementById("baseAmount").innerText = amount;

            document.getElementById("reg_type").value = type;
            document.getElementById("finalAmount").value = amount;

            document.getElementById("amountSection").style.display = "block";
            document.getElementById("fullForm").style.display = "block";

            document.getElementById("fullForm").scrollIntoView({ behavior: 'smooth' });

            // Trigger initial calculation
            calculateTotal();
        };

        // FORCE NATIVE SELECT FOR STATE/CITY
        $(document).ready(function () {
            $('#stateSelect').niceSelect('destroy');
            $('#citySelect').niceSelect('destroy');
        });

        // DYNAMIC LOGIC
        const stateSelect = document.getElementById("stateSelect");
        const cityInput = document.getElementById("cityInput");
        const citySelect = document.getElementById("citySelect");

        stateSelect.addEventListener("change", function () {
            if (this.value === "Telangana") {
                cityInput.style.display = "none";
                cityInput.disabled = true;
                citySelect.style.display = "block";
                citySelect.disabled = false;
            } else {
                cityInput.style.display = "block";
                cityInput.disabled = false;
                citySelect.style.display = "none";
                citySelect.disabled = true;
            }
        });

        // ADDON & PRICING LOGIC
        const colleagueInput = document.getElementById("colleagueCount");
        const regTypeRadios = document.querySelectorAll('input[name="regType"]');
        // const idaMemberRadios removed from logic loop

        function updateColleagueFields() {
            const count = parseInt(colleagueInput.value) || 0;
            const container = document.getElementById("colleagueFields");
            container.innerHTML = ""; // Clear existing

            if (count > 0) {
                container.style.display = "block";
                for (let i = 0; i < count; i++) {
                    const html = `
                        <div class="row mb-2">
                            <div class="col-md-6 mb-2">
                                <label>Colleague #${i + 1} Name</label>
                                <input type="text" name="colleague_name_${i}" class="form-control" placeholder="Name" required>
                            </div>
                            <div class="col-md-6 mb-2">
                                <label>Colleague #${i + 1} Mobile</label>
                                <input type="tel" name="colleague_mobile_${i}" class="form-control" placeholder="Mobile" required>
                            </div>
                        </div>
                     `;
                    container.insertAdjacentHTML('beforeend', html);
                }
            } else {
                container.style.display = "none";
            }
            calculateTotal();
        }

        function calculateTotal() {
            // 1. Get Base Amount from selected Reg Type
            let selectedType = document.querySelector('input[name="regType"]:checked');
            let baseAmount = selectedType ? parseInt(selectedType.dataset.amount) : 0;
            let typeName = selectedType ? selectedType.value.toLowerCase() : "";

            // ADD BANQUET ADDON IF CHECKED
            if (document.getElementById("banquetAddon").checked) {
                baseAmount += 2000;
                // Append name if not already there? 
                // Don't append to typeName (used for logic), but for display we handled it in updateAmount.
            }

            // 2. Student vs Doctor Toggles
            const studentSection = document.getElementById("studentDetails");
            const collegeSelect = document.getElementById("collegeSelect");
            const yearSelect = document.getElementById("yearSelect");
            const collegeManual = document.getElementById("collegeManual"); // Manual Input

            const doctorSection = document.getElementById("doctorDetails");
            const orgSelect = document.getElementById("orgSelect");
            const orgManual = document.getElementById("orgManual"); // Manual Input
            const desigSelect = document.querySelector('select[name="designation"]');
            const dciInput = document.querySelector('input[name="dci_reg_number"]');


            if (typeName.includes("student") || typeName.includes("intern")) {
                // SHOW STUDENT
                studentSection.style.display = "flex";
                collegeSelect.required = true;
                yearSelect.required = true;
                collegeSelect.disabled = false;
                yearSelect.disabled = false;
                // Manual logic handled by event listener, but ensure base state correct if needed

                // HIDE DOCTOR
                doctorSection.style.display = "none";
                orgSelect.required = false;
                desigSelect.required = false;
                dciInput.required = false;
                orgSelect.disabled = true;
                desigSelect.disabled = true;
                dciInput.disabled = true;

                // Reset doctor values
                orgSelect.value = "";
                desigSelect.value = "";
                dciInput.value = "";

            } else {
                // HIDE STUDENT
                studentSection.style.display = "none";
                collegeSelect.required = false;
                yearSelect.required = false;
                collegeSelect.disabled = true;
                yearSelect.disabled = true;
                collegeSelect.value = "";
                yearSelect.value = "";

                // SHOW DOCTOR
                doctorSection.style.display = "flex";
                orgSelect.required = true;
                desigSelect.required = true;
                dciInput.required = true;
                orgSelect.disabled = false;
                desigSelect.disabled = false;
                dciInput.disabled = false;
            }

            // 3. Multi-Colleague Calculation
            let count = parseInt(colleagueInput.value) || 0;
            let totalAddonAmount = count * baseAmount;

            let finalTotal = baseAmount + totalAddonAmount;

            if (selectedType) {
                document.getElementById("selectedCategory").innerHTML = selectedType.value + (count > 0 ? `<br><small>+ ${count} Colleague(s)</small>` : "");
            }

            if (document.getElementById("baseAmount")) {
                document.getElementById("baseAmount").innerText = finalTotal;
            }

            document.getElementById("finalAmount").value = finalTotal;
        }

        // TOGGLE MANUAL COLLEGE INPUT
        document.getElementById("collegeSelect").addEventListener("change", function () {
            const manualInp = document.getElementById("collegeManual");
            if (this.value === "Other") {
                manualInp.style.display = "block";
                manualInp.required = true;
            } else {
                manualInp.style.display = "none";
                manualInp.required = false;
                manualInp.value = "";
            }
        });

        // TOGGLE MANUAL ORG INPUT
        document.getElementById("orgSelect").addEventListener("change", function () {
            const manualInp = document.getElementById("orgManual");
            if (this.value === "Other") {
                manualInp.style.display = "block";
                manualInp.required = true;
            } else {
                manualInp.style.display = "none";
                manualInp.required = false;
                manualInp.value = "";
            }
        });

        // Event Listeners
        // Event Listeners
        if (colleagueInput) {
            colleagueInput.addEventListener('input', updateColleagueFields);
            colleagueInput.addEventListener('change', updateColleagueFields);
        }
        regTypeRadios.forEach(r => r.addEventListener('change', calculateTotal));


    </script>


    <script>
        document.getElementById("payButton").onclick = async function (e) {

            const form = document.getElementById("fullForm");

            // CHECK VALIDATION FIRST
            if (!form.checkValidity()) {
                form.reportValidity(); // Shows the browser validation UI
                return; // Stop execution
            }

            e.preventDefault(); // STOP PAGE RELOAD ONLY IF VALID

            try {
                const formData = new FormData(form);

                // NORMALIZE CITY
                // The form has both 'city' (input) and 'city_select' (select).
                // We need to ensure the final payload has a single 'city' key with the correct value.
                const stateVal = document.getElementById("stateSelect").value;
                let finalCity = "";

                if (stateVal === "Telangana") {
                    finalCity = document.getElementById("citySelect").value;
                } else {
                    finalCity = document.getElementById("cityInput").value;
                }

                // Update formData
                formData.set("city", finalCity);
                formData.delete("city_select"); // create a clean payload

                const data = Object.fromEntries(formData.entries());

                // 1️⃣ SAVE REGISTRATION TO BACKEND
                let saveRes = await fetch("http://localhost:5000/api/register", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });

                if (!saveRes.ok) {
                    throw new Error(`Registration API failed: ${saveRes.statusText}`);
                }

                let saveJson = await saveRes.json();
                if (!saveJson.success) {
                    throw new Error(saveJson.error || "Error saving registration!");
                }

                const reg_id = saveJson.reg_id;

                // 2️⃣ STORE DATA IN LOCALSTORAGE FOR CHECKOUT PAGE
                const checkoutData = {
                    reg_id: reg_id,
                    amount: data.amount,
                    name: data.name,
                    email: data.email,
                    mobile: data.mobile,
                    reg_type: data.regType || document.querySelector("input[name='regType']:checked")?.value // fallback
                };

                localStorage.setItem("reg_payload", JSON.stringify(checkoutData));

                // 3️⃣ REDIRECT TO CHECKOUT PAGE
                window.location.href = "checkout.html";

            } catch (err) {
                console.error(err);
                alert("An error occurred: " + err.message);
            }
        };
    </script>
    <style>
        .form-section {
            padding-top: 150px;
            padding-bottom: 100px;
            background-color: #f8f9fa;
        }

        #amountSection h4 {
            font-size: 1rem;
            text-transform: uppercase;
        }

        #amountSection .text-dark {
            font-size: 1.5rem;
        }

        /* Card Styling Removed */

        /* btn group styling */
        .btn-check:checked+.btn-outline-secondary {
            background-color: #0a6ebd;
            color: white;
            border-color: #0a6ebd;
        }

        /* Form Controls */
        .form-control,
        .form-select {
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #0a6ebd;
            box-shadow: 0 0 0 0.25rem rgba(10, 110, 189, 0.25);
        }

        .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }

        /* Validation Colors */
        .text-danger {
            color: #dc3545 !important;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #fullForm,
        #amountSection {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
    <!--===== FOOTER AREA STARTS =======-->
    <div class="footer4-sertion-area">
        <div class="container">
            <div class="row">

                <!-- Logo & Description -->
                <div class="col-lg-3 col-md-6">
                    <div class="footer-logo-area">
                        <img src="assets/img/trant-logo.png" alt="" />
                        <div class="space16"></div>
                        <p>
                            The 10ᵗʰ Telangana State Dental Conference brings together dental professionals,
                            clinicians, students, and experts to share knowledge, advancements, and innovations
                            in modern dentistry.
                        </p>
                        <div class="space24"></div>
                        <ul>
                            <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
                            <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                            <li><a href="#"><i class="fa-brands fa-linkedin-in"></i></a></li>
                            <li><a href="#" class="m-0"><i class="fa-brands fa-pinterest-p"></i></a></li>
                        </ul>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="col-lg-3 col-md-6">
                    <div class="link-content">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="about.html">About Event</a></li>
                            <li><a href="register.html">Registration</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="link-content2">
                        <h3>Email Support</h3>
                        <ul>
                            <li>
                                <a href="mailto:info@tgsdc.org">
                                    <img src="assets/img/icons/mail1.svg" alt="" />
                                    <span><strong>Contact:</strong><br>info@tgsdc.org</span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:posters@tgsdc.org">
                                    <img src="assets/img/icons/mail1.svg" alt="" />
                                    <span><strong>Posters:</strong><br>posters@tgsdc.org</span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:papers@tgsdc.org">
                                    <img src="assets/img/icons/mail1.svg" alt="" />
                                    <span><strong>Papers:</strong><br>papers@tgsdc.org</span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:registration@tgsdc.org">
                                    <img src="assets/img/icons/mail1.svg" alt="" />
                                    <span><strong>Registration:</strong><br>registration@tgsdc.org</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Contact Info -->
                <div class="col-lg-3 col-md-6">
                    <div class="link-content2">
                        <h3>Contact Us</h3>
                        <ul>
                            <li>
                                <a href="tel:+919985889140">
                                    <img src="assets/img/icons/phn1.svg" alt="" />+91 99858 89140
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img src="assets/img/icons/location1.svg" alt="" />
                                    IDA Cyberabad Branch, Telangana
                                </a>
                            </li>

                            <li>
                                <a href="https://www.tgsdc.org">
                                    <img src="assets/img/icons/world1.svg" alt="" />www.tgsdc.org
                                </a>
                            </li>
                        </ul>
                        <div class="space24 "></div>
                        <div class="link-content2" style="padding-left: 20px;">
                            <h3>Sponsors</h3>
                            <ul style="display: flex; gap: 15px; align-items: center; padding: 0; list-style: none;">
                                <li>
                                    <img src="assets/img/ida/col.webp" alt="Sponsor"
                                        style="max-height: 50px; width: auto;" />
                                </li>
                                <li>
                                    <img src="assets/img/ida/bioline.webp" alt="Sponsor"
                                        style="max-height: 50px; width: auto;" />
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Footer Gallery -->

            </div>

            <div class="space60"></div>

            <!-- Copyright -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="copyright">
                        <p>&copy; Copyright 2025 - TGSDC.
                            All Rights Reserved | Hosted by IDA Cyberabad Branch <br>
                            Designed by <a href="https://thepatternscompany.com/" target="_blank"
                                style="color: inherit; text-decoration: underline;">The Patterns Company</a></p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!--===== FOOTER AREA ENDS =======-->

    <!--===== JS SCRIPT LINK =======-->
    <script src="assets/js/vendor/bootstrap.min.js"></script>
    <script src="assets/js/vendor/fontawesome.js"></script>
    <script src="assets/js/vendor/aos.js"></script>
    <script src="assets/js/vendor/jquery.appear.js"></script>
    <script src="assets/js/vendor/jquery.odometer.min.js"></script>
    <script src="assets/js/vendor/sidebar.js"></script>
    <script src="assets/js/vendor/magnific-popup.js"></script>
    <script src="assets/js/vendor/gsap.min.js"></script>
    <script src="assets/js/vendor/ScrollTrigger.min.js"></script>
    <script src="assets/js/vendor/Splitetext.js"></script>
    <script src="assets/js/vendor/mobilemenu.js"></script>
    <script src="assets/js/vendor/owlcarousel.min.js"></script>
    <script src="assets/js/vendor/nice-select.js"></script>
    <script src="assets/js/vendor/waypoints.js"></script>
    <script src="assets/js/vendor/slick-slider.js"></script>
    <script src="assets/js/vendor/circle-progress.js"></script>
    <script src="assets/js/main.js"></script>
</body>

</html>